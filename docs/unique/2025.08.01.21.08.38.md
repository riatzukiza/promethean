```typescript
function splitSentances(text: string) {
    const sentences: string[] = tokenizer.sentences(text, splitterOptions);
    const cleaned = sentences.map((s) => s.trim()).filter((s) => s.length > 0);
    return mergeShortFragments(cleaned);
}

const sentances: string[] = splitSentances(content);
console.log('sentances', sentances);
const finishedSentances = [];

const startTime = Date.now();
for (let sentance of sentances) {
	if (sentance.includes("(Silent.)")) {
		await sleep(Math.random() * 5000)
	} else {
		await this.speak(sentance.trim());
	}
	finishedSentances.push(sentance);
	if (this.isStopped) {
		this.isStopped = false;
		break;
	}
}

```

```typescript
function extractParentheticals(text: string): string[] {
	const matches = [...text.matchAll(/$([^)]+)$/g)];
	return matches.map((m:string) => m[1].trim());
}
const x = "I have a thing with a paren in it. (it's here.)"
console.log(extractParentheticals(x));

function classifyPause(phrase: string): 'silence' | 'ambient' | 'introspective' | 'narrative' | 'unknown' {
	const lc = phrase.toLowerCase();
	if (lc.includes('silence') || lc.includes('pause')) return 'silence';
	if (lc.includes('hum') || lc.includes('fan') || lc.includes('noise') || lc.includes('background')) return 'ambient';
	if (lc.includes('thought') || lc.includes('introspective') || lc.includes('considering')) return 'introspective';
	if (lc.includes('sigh') || lc.includes('murmur') || lc.includes('drawn') || lc.includes('drift')) return 'narrative';
	return 'unknown';
}

function estimatePauseDuration(phrase: string): number {
	const base = 1000; // base duration in ms
	const len = phrase.length;
	return base + Math.min(len * 40, 8000); // caps around 8s
}

```


```typescript
const sentences: string[] = splitSentances(content);
console.log('sentences', sentences);
const finishedSentences = [];

const startTime = Date.now();
for (let sentence of sentences) {
	const parentheticals = extractParentheticals(sentence);

	if (parentheticals.length > 0) {
		for (const p of parentheticals) {
			const kind = classifyPause(p);
			const ms = estimatePauseDuration(p);

			console.log(`[Pause] (${kind}) "${p}" â†’ sleeping ${ms}ms`);
			await sleep(ms);
		}
	} else {
		await this.speak(sentence.trim());
	}

	finishedSentences.push(sentence);

	if (this.isStopped) {
		this.isStopped = false;
		break;
	}
}

```

```typescript
console.log("hi");
```
